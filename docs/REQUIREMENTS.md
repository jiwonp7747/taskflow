# 파일 기반 태스크 관리 시스템 요구사항

## 프로젝트 개요

로컬 파일 시스템 기반의 태스크 관리 도구로, AI Agent와 연동하여 자동화된 작업 처리가 가능한 칸반보드 시스템

---

## 배경 및 문제점

### 기존 도구의 한계 (Notion)
- 파일이 Notion 서버에 저장되어 로컬 접근 불가
- 자유로운 파일 관리 및 버전 관리 어려움
- AI Agent가 직접 파일을 수정하기 어려운 구조
- 외부 도구/스크립트와의 연동 제한

### 해결 방향
- 로컬 마크다운 파일 기반 태스크 관리
- AI Agent가 파일 메타데이터를 직접 수정 가능
- Git을 통한 버전 관리 지원
- 웹 UI와 파일 시스템 간 실시간 동기화

---

## 핵심 요구사항

### 1. 마크다운 기반 태스크 정의

각 태스크는 독립된 `.md` 파일로 관리되며, YAML frontmatter로 메타데이터 정의

```markdown
---
id: task-001
title: API 엔드포인트 구현
status: TODO
priority: HIGH
assignee: ai-agent
created_at: 2025-01-11
updated_at: 2025-01-11
tags: [backend, api]
---

## 설명
사용자 인증 API 엔드포인트 구현

## 요구사항
- POST /api/auth/login
- POST /api/auth/logout
- JWT 토큰 기반 인증
```

### 2. 상태 관리 (Status)

| 상태            | 설명       | AI Agent 동작       |
| ------------- | -------- | ----------------- |
| `TODO`        | 대기 중인 작업 | 작업 대상으로 인식        |
| `IN_PROGRESS` | 진행 중     | AI Agent가 작업 수행 중 |
| `IN_REVIEW`   | 검토 필요    | 작업 완료, 사용자 검토 대기  |
| `NEED_FIX`    | 수정 필요    | 피드백 반영 후 재작업 필요   |
| `COMPLETE`    | 완료       | 최종 완료             |
| `ON_HOLD`     | 보류       | 작업 일시 중단          |

### 3. AI Agent 연동

#### 작업 흐름
```
1. 사용자가 MD 파일 생성 (status: TODO, assignee: ai-agent)
2. AI Agent가 폴더를 주기적으로 스캔
3. assignee가 ai-agent인 TODO 태스크 감지
4. 작업 시작 시 status를 IN_PROGRESS로 변경
5. 작업 완료 시 status를 IN_REVIEW로 변경
6. 사용자 검토 후 COMPLETE 또는 NEED_FIX로 변경
```

#### AI Agent 역할
- 지정된 폴더 모니터링 (파일 변경 감지)
- `assignee: ai-agent` + `status: TODO` 조건의 태스크 자동 수행
- 작업 완료 후 메타데이터 자동 업데이트
- 작업 로그/결과를 MD 파일 본문에 추가

### 4. 웹 칸반보드 UI

#### 핵심 기능
- 지정된 폴더의 MD 파일들을 실시간 트래킹
- 파일 메타데이터 기반 칸반보드 렌더링
- 상태 변경 시 UI 자동 업데이트 (파일 시스템 watch)
- 드래그앤드롭으로 상태 변경 → MD 파일 메타데이터 수정

#### 동기화 방식
```
[파일 시스템] ⇄ [웹 UI]

- 파일 변경 → UI 자동 반영
- UI에서 드래그앤드롭 → 파일 메타데이터 수정
```

---

## 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                    웹 칸반보드 UI                         │
│  (React + dnd-kit, 파일 시스템 실시간 트래킹)              │
└─────────────────────────────────────────────────────────┘
                          ↕ 파일 읽기/쓰기
┌─────────────────────────────────────────────────────────┐
│              로컬 파일 시스템 (MD 파일들)                  │
│  /tasks/task-001.md, /tasks/task-002.md, ...           │
└─────────────────────────────────────────────────────────┘
                          ↕ 파일 모니터링/수정
┌─────────────────────────────────────────────────────────┐
│                     AI Agent                            │
│  (Claude Code, OpenCode 등 - 태스크 자동 수행)           │
└─────────────────────────────────────────────────────────┘
```

---

## 참고 프로젝트

- **olly-molly**: 칸반보드 상태 관리 및 AI Agent 연동 구조 참고
  - 라이브러리: `@dnd-kit/core`, `@dnd-kit/sortable`
  - 6단계 상태 관리 (TODO → IN_PROGRESS → IN_REVIEW → NEED_FIX/COMPLETE/ON_HOLD)

---

## 기대 효과

1. **로컬 파일 완전 제어**: Git 버전 관리, 백업, 마이그레이션 자유로움
2. **AI Agent 자동화**: 반복적인 작업을 AI에게 위임하고 결과만 검토
3. **유연한 확장성**: 스크립트, CLI 도구와 쉽게 연동 가능
4. **오프라인 지원**: 인터넷 연결 없이도 태스크 관리 가능
